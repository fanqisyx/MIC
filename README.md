# 图片分类软件需求文档

## 1. 概述
本软件旨在提供一个手动图片分类工具，支持用户批量导入图片、自定义分类类别、交互式分类操作、实时统计和生成分类结果报表。以下为详细功能需求。

## 2. 功能需求

### 2.1 图片导入
- **功能描述**：用户可通过按钮批量选择图片文件（支持常见格式，如JPEG、PNG）。
- **交互逻辑**：
  - 点击“选择图片”按钮，打开文件选择对话框。
  - 支持多选图片，导入后显示在主界面缩略图区域。
- **技术要求**：
  - 支持大批量图片导入（建议优化内存管理，避免卡顿）。
  - 文件大小和数量限制可配置。

### 2.2 分类类别设定
- **功能描述**：用户可自定义分类类别（如“红”、“亮”、“黑”），并生成对应分类按钮。
- **交互逻辑**：
  - 提供“分类设定”页面，允许输入分类名称（支持增删改）。
  - 点击主界面“按钮刷新”按钮，根据设定生成分类按钮。
- **技术要求**：
  - 分类名称存储为配置文件或数据库，支持动态更新。
  - 分类按钮动态生成，布局自适应。

### 2.3 主界面布局
- **功能描述**：主界面包含以下区域：
  - **顶部**：缩略图区域，显示导入图片的缩略图。
  - **中间**：当前分类图片显示区域，展示大图及分类状态。
  - **底部**：分类按钮区域，动态显示分类按钮。
  - **右侧**：统计数据区域，实时显示分类统计。
- **交互逻辑**：
  - 缩略图从左到右流动，支持鼠标滚轮或拖动浏览。
  - 点击缩略图选中图片，显示在中间区域，并将选中图片置于缩略图中心。
  - 中间区域显示图片及分类状态（如“已分类：红”或“待分类”）。
  - 底部分类按钮点击后，为当前图片分配对应类别。
- **技术要求**：
  - 缩略图支持平滑滚动，优化加载性能。
  - 界面响应式设计，适配不同屏幕分辨率。

### 2.4 缩略图功能
- **功能描述**：
  - 缩略图从左到右排列，支持流动浏览。
  - 每张缩略图显示分类标记（若已分类）和分类状态（已分类/未分类）。
- **交互逻辑**：
  - 点击缩略图，选中图片并显示在主界面中间区域。
  - 缩略图自动滚动到选中图片居中。
  - 已分类图片在缩略图上显示分类标签（如“红”），未分类图片显示“待分类”。
- **技术要求**：
  - 缩略图支持懒加载，减少内存占用。
  - 分类标记使用颜色或图标区分，易于辨识。

### 2.5 当前图片分类状态
- **功能描述**：中间区域显示当前图片及分类状态。
- **交互逻辑**：
  - 显示大图及分类信息（如“已分类：红”或“待分类”）。
  - 分类后实时更新状态。
- **技术要求**：
  - 图片加载优化，确保快速显示。
  - 分类状态文本清晰，字体大小适中。

### 2.6 分类按钮生成
- **功能描述**：分类按钮根据“分类设定”页面内容动态生成。
- **交互逻辑**：
  - 在“分类设定”页面添加/删除类别后，点击“按钮刷新”更新主界面按钮。
  - 点击分类按钮，为当前图片分配类别并更新统计数据。
- **技术要求**：
  - 按钮支持动态布局，避免拥挤。
  - 点击响应迅速，分类结果实时保存。

### 2.7 统计数据
- **功能描述**：实时显示分类统计信息，包括：
  - 总图片数。
  - 已分类/未分类图片数。
  - 各分类的数量及比例。
  - 支持按名称、数量、比例排序。
- **交互逻辑**：
  - 统计数据在右侧区域实时更新。
  - 点击排序按钮（如“按比例”），数据自动重新排列。
- **技术要求**：
  - 数据计算高效，避免界面卡顿。
  - 排序功能支持升序/降序切换。

### 2.8 报表生成
- **功能描述**：生成PDF格式的分类结果报表。
- **内容要求**：
  - 包含总图片数、各分类数量及比例。
  - 每类展示典型图片（数量可设定，1~25张）。
  - 报表包含标题、日期、统计表格和图片展示区域。
- **交互逻辑**：
  - 点击“生成报表”按钮，弹出设置窗口，选择每类图片数量。
  - 确认后生成PDF并提示保存路径。
- **技术要求**：
  - 使用LaTeX生成PDF，确保格式美观。
  - 典型图片自动选择（建议按清晰度或代表性排序）。
  - 支持多语言（默认中文）。

## 3. 技术要求
- **开发技术**：
  - 前端：推荐使用React + Tailwind CSS，生成单页HTML应用。
  - 后端：本地存储使用IndexedDB或文件系统，报表生成使用LaTeX。
  - 图片处理：支持常见图片格式，优化加载和显示性能。
- **兼容性**：
  - 支持主流浏览器（Chrome、Firefox、Edge）。
  - 适配Windows、macOS系统。
- **性能**：
  - 支持处理1000+图片，加载和分类操作无明显延迟。
  - 缩略图和统计数据实时更新，响应时间<100ms。
- **报表生成**：
  - 使用PDFLaTeX生成报表，包含以下LaTeX包：
    - `geometry`（页面布局）
    - `graphicx`（图片插入）
    - `tabularx`（表格）
    - `ctex`（中文支持）
    - `noto`（字体支持）

## 4. 界面设计建议
- **布局**：
  - 顶部缩略图区域：高度约150px，横向滚动。
  - 中间图片区域：高度约400px，居中显示大图。
  - 底部按钮区域：高度约100px，按钮均匀分布。
  - 右侧统计区域：宽度约300px，固定位置。
- **风格**：
  - 使用简洁现代风格，推荐Tailwind CSS。
  - 分类按钮使用不同颜色区分（如红、蓝、绿）。
  - 缩略图边框高亮选中图片，分类标记使用角标或颜色。

## 5. 非功能需求
- **易用性**：
  - 界面直观，操作流程简单。
  - 提供提示信息（如“请先导入图片”）。
- **可靠性**：
  - 分类数据自动保存，避免意外丢失。
  - 报表生成无格式错误。
- **可维护性**：
  - 代码模块化，易于扩展新功能。
  - 提供详细开发文档。

## 6. 交付物
- 单页HTML应用（包含React、Tailwind CSS、LaTeX生成逻辑）。
- 用户操作手册（Markdown格式）。
- 示例分类配置文件（JSON格式）。
- 示例PDF报表模板（LaTeX代码）。
